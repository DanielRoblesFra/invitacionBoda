:root {
    --color-olive: #3E3B22;
    --color-terracotta: #9C4128;
    --color-cream: #E8DCCA;
    --color-paper: #F5EBE0;
    --font-serif: 'Playfair Display', serif;
    --font-sans: 'Outfit', sans-serif;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    background-color: var(--color-cream);
    color: var(--color-olive);
    font-family: var(--font-sans);
    height: 100vh;
    overflow: hidden;
    display: flex; align-items: center; justify-content: center;
}

/* ... (Estilos del Envelope Wrapper y Botón Sello se mantienen igual) ... */
.envelope-wrapper { position: relative; width: 320px; height: 220px; display: flex; align-items: center; justify-content: center; }
.envelope-shape { position: absolute; inset: 0; background: #D8C8B2; border-radius: 4px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); overflow: hidden; }
.triangle { position: absolute; width: 100%; height: 100%; }
.triangle.bottom { background: #E6D5BF; clip-path: polygon(0 100%, 50% 40%, 100% 100%); }
.triangle.left { background: #DFCEB8; clip-path: polygon(0 0, 45% 50%, 0 100%); }
.triangle.right { background: #DFCEB8; clip-path: polygon(100% 0, 55% 50%, 100% 100%); }
.triangle.top { background: #D1C1AB; clip-path: polygon(0 0, 50% 55%, 100% 0); z-index: 5; }

.seal-button {
    position: absolute; z-index: 10; width: 100px; height: 100px;
    background-color: var(--color-terracotta); border: 4px solid rgba(156, 65, 40, 0.8);
    border-radius: 50%; cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    display: flex; align-items: center; justify-content: center;
    transition: transform 0.3s ease, opacity 0.3s;
    top: 50%; left: 50%; transform: translate(-50%, -50%);
}
.seal-button:hover { transform: translate(-50%, -50%) scale(1.05); }
.seal-text { color: rgba(255,255,255,0.9); font-family: var(--font-serif); font-size: 32px; font-weight: 700; font-style: italic; }
.seal-ring { position: absolute; width: 80%; height: 80%; border: 1px solid rgba(255,255,255,0.3); border-radius: 50%; }

/* --- OVERLAY ACTUALIZADO --- */
.overlay { 
    position: fixed; inset: 0; pointer-events: none; z-index: 50; 
    display: flex; align-items: center; justify-content: center; 
}

/* Fondo con Textura de Ruido (Noise) */
.paper-bg { 
    position: absolute; inset: 0; 
    background-color: var(--color-paper); 
    /* Textura SVG inline para efecto papel */
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
    opacity: 0; 
    transition: opacity 1.6s ease 0.5s; /* Más lento */
}

.origami-slices { position: absolute; width: 0; height: 0; }

/* Actualizado para 12 segmentos (360 / 12 = 30deg por segmento) */
.slice {
    position: absolute; top: 50%; left: 50%; width: 100px; height: 100px;
    background-color: #D1C1AB; 
    /* Textura también en los pliegues */
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.4'/%3E%3C/svg%3E");
    
    clip-path: polygon(0 0, 100% 0, 0 100%);
    transform: rotate(calc(var(--i) * 30deg)) scale(0); /* 30 grados ahora */
    opacity: 0;
    
    /* Animación mucho más lenta (1.6s) */
    transition: transform 1.6s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.5s;
    transition-delay: calc(var(--i) * 0.05s);
}

.overlay.active { pointer-events: auto; }
.overlay.active .paper-bg { opacity: 1; }
.overlay.active .slice { opacity: 1; transform: rotate(calc(var(--i) * 30deg)) scale(30); }
.overlay.active .seal-button { opacity: 0; pointer-events: none; }

/* --- SCROLL Y CONTENIDO --- */
.scroll-container {
    position: absolute; inset: 0;
    overflow-y: auto; /* Habilita el scroll vertical */
    z-index: 60;
    opacity: 0;
    transform: translateY(20px);
    transition: all 1s ease 1.2s; /* Retraso largo para esperar a la animación lenta */
    padding: 20px;
}

.overlay.active .scroll-container { opacity: 1; transform: translateY(0); }

.invite-content {
    background: rgba(255,255,255,0.5); /* Fondo semitransparente */
    backdrop-filter: blur(2px);
    max-width: 500px; margin: 40px auto; 
    padding: 40px 30px;
    border: 1px solid rgba(156, 65, 40, 0.1);
    position: relative;
    text-align: center;
}

.close-icon {
    position: absolute; top: 10px; right: 10px;
    background: none; border: none; font-size: 24px; cursor: pointer; color: var(--color-olive);
}

h1 { font-family: var(--font-serif); font-size: 3rem; color: var(--color-terracotta); margin-bottom: 1rem; line-height: 1.1; }
.overline { font-size: 12px; letter-spacing: 3px; color: var(--color-terracotta); margin-bottom: 1rem; }
.separator { width: 80px; height: 1px; background: var(--color-terracotta); margin: 30px auto; opacity: 0.4; }
.italic { font-style: italic; }

.details-grid { display: grid; grid-template-columns: 1fr; gap: 20px; margin-bottom: 30px; font-family: var(--font-serif); }
.detail-label { display: block; font-size: 0.9rem; font-weight: bold; color: var(--color-terracotta); }
.detail-value { display: block; font-size: 1.1rem; }

.quote { font-family: var(--font-serif); font-style: italic; margin-bottom: 30px; font-size: 1.1rem; color: #666; }

.extra-info { margin-bottom: 20px; }
.extra-info h3 { font-size: 0.9rem; text-transform: uppercase; color: var(--color-terracotta); margin-bottom: 5px; }

.cta-button {
    background: var(--color-terracotta); color: white; border: none; padding: 15px 40px;
    border-radius: 50px; font-family: var(--font-serif); text-transform: uppercase; 
    letter-spacing: 2px; cursor: pointer; margin-top: 20px;
    box-shadow: 0 5px 15px rgba(156, 65, 40, 0.3);
}
.spacer { height: 50px; }